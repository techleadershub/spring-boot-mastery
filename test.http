### Variables
@host = http://localhost:8080
@contentType = application/json

### 1. Authentication Tests

### Login as User
POST {{host}}/auth/login
Content-Type: {{contentType}}

{
    "username": "user",
    "password": "password"
}

### Login as Admin
POST {{host}}/auth/login
Content-Type: {{contentType}}

{
    "username": "admin",
    "password": "password"
}

### Login with Invalid Credentials (Should Fail)
POST {{host}}/auth/login
Content-Type: {{contentType}}

{
    "username": "invalid",
    "password": "wrong"
}

### 2. Protected Endpoints

### Public Test Endpoint (No Auth Required)
GET {{host}}/auth/test

### User Endpoint (Requires Authentication)
# @name userEndpoint
GET {{host}}/auth/user
Authorization: Bearer {{userToken}}

### Admin Endpoint (Requires ADMIN Role)
# @name adminEndpoint
GET {{host}}/auth/admin
Authorization: Bearer {{adminToken}}

### 3. Error Cases

### Access Protected Endpoint without Token
GET {{host}}/auth/user

### Access with Invalid Token
GET {{host}}/auth/user
Authorization: Bearer invalid.token.here

### Access Admin Endpoint with User Token (Should Fail)
GET {{host}}/auth/admin
Authorization: Bearer {{userToken}}

### Notes:
# 1. First run the login requests to get the tokens
# 2. Replace {{userToken}} with the token received from user login
# 3. Replace {{adminToken}} with the token received from admin login
# 4. Expected responses:
#    - 200 OK: Successful requests
#    - 401 Unauthorized: Missing or invalid token
#    - 403 Forbidden: Valid token but insufficient permissions
#    - 400 Bad Request: Invalid request format
